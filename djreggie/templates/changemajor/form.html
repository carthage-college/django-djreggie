{% extends "djkorra/base.html" %}
{% block title %}
    Change Major/Minor
{% endblock %}
{% block content_head %}
    <h1 id="page-title">Change Major/Minor</h1>
{% endblock %}
{% block extra_style %}
<style type="text/css">
    .tabme{
        color: grey;
        padding-left:2em
    }
</style>
{% endblock %}
{% block javascript %}
<script type='text/javascript'>
    function validate_student_id(){
        var id = document.getElementById('id_student_id');
        var val = id.value;
        var patt = new RegExp('^(\\d{5,7})$');
        return patt.test(val);            
    }
    function validate_name(){
        var id = document.getElementById('id_name');
        var val = id.value;
        var patt = new RegExp('^((?:[a-zA-Z]+\\s?){1,2}[a-zA-Z]+)$');
        return patt.test(val);        
    }
    function validate_advisor(){
        var id = document.getElementById('id_advisor');
        var val = id.value;
        var patt = new RegExp('^((?:[a-zA-Z]+\\s?){1,2}[a-zA-Z]+)$');
        return patt.test(val);        
    }
</script>
{% endblock %}
{% block content %}
{{ form.non_field_errors }}
<form action='' method='post' class = "form">{% csrf_token %}
    {{ mmformset.management_form }}
    {% for field in form.hidden_fields %}
        {{ field }}
        {{ field.errors }}
    {% endfor %}
    <fieldset class="blockLabels">
        <legend>Your Current Information</legend>
        <ol>
            <li class="ctrlHolder"><h3><label for="id_name">Name</label></h3>
                <div class=tabme>{{form.name.value}}<br></div>
            </li>
            <li class="ctrlHolder"><h3><label for="id_student_id">Student ID</label></h3>
                <div class=tabme>{{form.student_id.value}}<br></div>
            </li>
            <li class="ctrlHolder"><h3><label for="id_majorlist">Current Majors</label></h3>
                <div class=tabme>{{form.majorlist.value}}<br></div>
            </li>
            <li class="ctrlHolder"><h3><label for="id_minorlist">Current Minors</label></h3>
                <div class=tabme>{{form.minorlist.value}}<br></div>
            </li>
        </ol>
    </fieldset>
    <fieldset class="blockLabels">
        <legend>Majors and Minors</legend>
        <ol>
            <li class="ctrlHolder" id="major1"><h3><label for="id_major1">Majors</label></h3>
                <div class="required">
                    {{ form.major1 }}
                </div>
            </li>
            <li class="ctrlHolder" id="major2"><h3><label for="id_major2"></label></h3>
                {{ form.major2 }}
            </li>
            <li class="ctrlHolder" id="major3"><h3><label for="id_major3"></label></h3>
                {{ form.major3 }}
            </li>
            <hr>
            <li class="ctrlHolder" id="minor1"><h3><label for="id_minor1">Minors</label></h3>
                <div class="required">
                    {{ form.minor1 }}
                </div>
            </li>                
            <li class="ctrlHolder" id="minor2"><h3><label for="id_minor2"></label></h3>
                {{ form.minor2 }}
            </li>                
            <li class="ctrlHolder" id="minor3"><h3><label for="id_minor3"></label></h3>
                {{ form.minor3 }}
            </li>
        </ol>
    </fieldset>
    <fieldset class="blockLabels">
        <legend>Advisor</legend>
        <ol>
            <li class="ctrlHolder"><h3><label for="id_advisor">
            Who would you like to be your new advisor? (If no change, leave blank)</label></h3>
                <div class='required'>
                    <input id="id_advisor" name="advisor" type="text"/>
                </div>
            </li>
            <li class="btnHolder">
                <label for="submit">&nbsp;&nbsp;</label>
                <input type="Submit" name="submit" value="Submit" class="button"/>
            </li>
        </ol>
    </fieldset>
</form>
{% endblock %}